# 2. 均线的金叉死叉

- 金叉: 较短周期的均线从长期均线的下方向上穿越较长周期的均线,形成的交点即为金叉,是买入信号
- 死叉: 较短周期的均线从长期均线的上方向下穿越较长周期的均线,形成的交点即为死叉,是卖出信号

```mq4
void OnTimer()
  {
//---
   bool smaGoldenCross = false;
   bool smaDeathCross = false;
   
   double sma_short = iMA(Symbol(), PERIOD_M1, 20, 0, MODE_SMA, PRICE_CLOSE, 0);
   double sma_long = iMA(Symbol(), PERIOD_M1, 60, 0, MODE_SMA, PRICE_CLOSE, 0);
   
   if (sma_short > sma_long) {
      smaGoldenCross = true;
   }
   
   if (sma_short < sma_long) {
      smaDeathCross = true;
   }
   
   Print("sma_short = ", sma_short);
   Print("sma_long = ", sma_long);
   Print("SMA均线金叉: ", smaGoldenCross);
   Print("SMA均线死叉: ", smaDeathCross);
   
   bool emaGoldenCross = false;
   bool emaDeathCross = false;
   
   double ema_short = iMA(Symbol(), PERIOD_M1, 20, 0, MODE_EMA, PRICE_CLOSE, 0);
   double ema_long = iMA(Symbol(), PERIOD_M1, 60, 0, MODE_EMA, PRICE_CLOSE, 0);
   
   if (ema_short > ema_long) {
      emaGoldenCross = true;
   }
   
   if (ema_short < ema_long) {
      emaDeathCross = true;
   }
   
   Print("ema_short = ", ema_short);
   Print("ema_long = ", ema_long);
   Print("EMA均线金叉: ", emaGoldenCross);
   Print("EMA均线死叉: ", emaDeathCross);
  }
```