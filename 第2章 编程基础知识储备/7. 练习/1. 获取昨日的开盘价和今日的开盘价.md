# 1. 获取昨日的开盘价和今日的开盘价

需求: 获取昨日的开盘价和今日的开盘价

实现思路: 将K线图调整为以天为单位,获取前两根K线的开盘价即可

- 靠左的那根K线的开盘价是昨日的开盘价
- 靠右的那根K线的开盘价是今日的开盘价

```mq4
//+------------------------------------------------------------------+
//| Expert tick function                                             |
//+------------------------------------------------------------------+
void OnTick()
  {
//---
   double yesterdayOpen = GetYesterdayOpen();
   double todayOpen = GetTodayOpen();
   double diff = GetOpenDiff(yesterdayOpen, todayOpen);
   Print("今天的开盘价 - 昨天的开盘价 = ", diff);
  }
  
//+------------------------------------------------------------------+
double GetYesterdayOpen() {
   double yesterdayOpen = iOpen("EURJPY", PERIOD_D1, 1);
   return yesterdayOpen;
}

double GetTodayOpen() {
   double todayOpen = iOpen("EURJPY", PERIOD_D1, 0);
   return todayOpen;
}

double GetOpenDiff(double yesterdayOpen, double todayOpen) {
   double diff = todayOpen - yesterdayOpen;
   return diff;
}
```

