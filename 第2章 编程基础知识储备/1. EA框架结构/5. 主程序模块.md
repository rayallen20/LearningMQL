# 5. 主程序模块

该模块是编写程序的核心,自动化交易程序要求:只要条件满足1次就要运行1次.因此,在该模块中编写的代码,是使EA可以循环执行的程序.(该模块的功能有点类
似GO语言中的`main()`函数,但GO语言中的`main()`函数只执行1次,而EA中的主程序模块是循环执行的).

主程序策略的触发有2个函数:

- `OnTick()`
- `OnTimer()`

- `OnTick()`

    每当货币对的价格变动1次,程序就会触发运行1次.若价格不变动,则程序就不会触发运行.

- `OnTimer()`

    程序会根据预设的时间间隔(类似于prometheus中的`interval`的概念)执行.
    
    例如: 预设时间为1秒,则程序执行的规则为: 每过1秒就执行1次.无论该货币对的价格是否变动,都将一直循环下去,除非退出EA.

主程序模块内的代码是循环执行的,与初始加载函数模块和退出加载函数模块中的代码只会被执行1次有根本的区别.

```mq4
//+------------------------------------------------------------------+
//| Expert tick function                                             |
//+------------------------------------------------------------------+
void OnTick()
  {
//---
   
  }
//+------------------------------------------------------------------+
//| Timer function                                                   |
//+------------------------------------------------------------------+
void OnTimer()
  {
//---
   
  }
```
